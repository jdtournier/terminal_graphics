<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Terminal Graphics: Terminal Graphics</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Terminal Graphics
   </div>
   <div id="projectbrief">Single-file, header-only C++20 functionality for producing graphics on the terminal using the sixel protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Terminal Graphics </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This header provides functionality for producing simple graphics on the terminal.</p>
<p>NOTE: the graphics are produced using the sixel protocol, which is not supported by many terminals. At the time of writing, the following terminals are known to have the necessary capabilities:</p>
<ul>
<li>Linux: wezterm, mlterm, xterm</li>
<li>macOS: wezterm, iTerm2</li>
<li>Windows: wezterm, minTTY, Windows Terminal (Preview)</li>
</ul>
<p>To use in your code, place this file alongside your own code, and #include the file where necessary: </p><pre class="fragment">#include "termviz.h"
</pre><p>or if installed elsewhere: </p><pre class="fragment">#include &lt;termviz.h&gt;
</pre><p>At this point, you can make use of the functions. All functions are enclosed in the termviz namespace</p>
<p>The main functions of interest are:</p>
<ul>
<li><a class="el" href="namespacetermviz.html#a8f1f308622bd4b8b67aa035395ea5cf0" title="Display an indexed image to the terminal, according to the colourmap supplied.">termviz::imshow()</a>: display a scalar image.</li>
<li><a class="el" href="namespacetermviz.html#a15214a36eb0f07682975083edc414eb4">termviz::figure()</a>: display a one or more line plots</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Showing an image:</h2>
<p>To show a scalar image, you can use one of the two <a class="el" href="namespacetermviz.html#a8f1f308622bd4b8b67aa035395ea5cf0" title="Display an indexed image to the terminal, according to the colourmap supplied.">termviz::imshow()</a> methods: </p><div class="fragment"><div class="line"><a class="code hl_function" href="namespacetermviz.html#a8f1f308622bd4b8b67aa035395ea5cf0">termviz::imshow</a> (image);</div>
<div class="line"><a class="code hl_function" href="namespacetermviz.html#a8f1f308622bd4b8b67aa035395ea5cf0">termviz::imshow</a> (image, min, max);</div>
<div class="ttc" id="anamespacetermviz_html_a8f1f308622bd4b8b67aa035395ea5cf0"><div class="ttname"><a href="namespacetermviz.html#a8f1f308622bd4b8b67aa035395ea5cf0">termviz::imshow</a></div><div class="ttdeci">void imshow(const ImageType &amp;image, const ColourMap &amp;cmap, const bool zero_is_transparent=false)</div><div class="ttdoc">Display an indexed image to the terminal, according to the colourmap supplied.</div><div class="ttdef"><b>Definition</b> termviz.h:707</div></div>
</div><!-- fragment --><p> In the first case, the image intensities are assumed to map to integer colour indices directly, and each pixel value will be rendered according to the colour in the colourmap.</p>
<p>In the second case, the image intensities values will be rescaled between the <span class="tt">min</span> &amp; <span class="tt">max</span> values provided, and the resulting integer values will be used to render the image.</p>
<p>If desired, images can be magnifies by integer factors using the <a class="el" href="classtermviz_1_1magnify.html" title="Adapter class to magnify an image.">termviz::magnify()</a> adapter class.</p>
<p>Refer to the documentation for <a class="el" href="namespacetermviz.html#a8f1f308622bd4b8b67aa035395ea5cf0" title="Display an indexed image to the terminal, according to the colourmap supplied.">termviz::imshow()</a> for details.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Plotting data</h2>
<p>Plotting data is done by first creating an instance of <a class="el" href="namespacetermviz.html#a15214a36eb0f07682975083edc414eb4">termviz::figure()</a>, and calling appropriate methods to build up the plots. The figure will be rendered in the destructor (when the figure goes out of scope) or by invoking the show() method directly.</p>
<p>Refer to the documentation for <a class="el" href="classtermviz_1_1Figure.html">termviz::Figure</a> for details.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
Further information</h2>
<p>For a more complete list of all of the available functionality, refer to the <span class="tt"><a class="el" href="namespacetermviz.html" title="The namespace within which all functionality is placed.">termviz</a></span> namespace.</p>
<p>Refer to the example code in <span class="tt">demo.cpp</span> (reproduced below) to see how to use this functionality:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;random&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdexcept&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;format&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;load_pgm.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;termviz.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main ()</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">try</span> {</div>
<div class="line">    <span class="comment">// demonstrate use of termviz::imshow():</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> std::string image_filename = <span class="stringliteral">&quot;brain.pgm&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> image = load_pgm (image_filename);</div>
<div class="line">    std::cout &lt;&lt; std::format (<span class="stringliteral">&quot;Showing image \&quot;{}\&quot;, size: {} x {}\n&quot;</span>, image_filename, image.width(), image.height());</div>
<div class="line">    <a class="code hl_function" href="namespacetermviz.html#a8f1f308622bd4b8b67aa035395ea5cf0">termviz::imshow</a> (image, 0, 255);</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Same image using hot colourmap, magnified by a factor of 2, with transparency:\n&quot;</span>;</div>
<div class="line">    <a class="code hl_function" href="namespacetermviz.html#a8f1f308622bd4b8b67aa035395ea5cf0">termviz::imshow</a> (<a class="code hl_class" href="classtermviz_1_1magnify.html">termviz::magnify</a> (image, 2), 0, 255, <a class="code hl_function" href="namespacetermviz.html#a55f237ea4476d3a8023308dcadcfe1d7">termviz::hot</a>(), <span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="comment">// demonstrate use of termviz::figure():</span></div>
<div class="line"> </div>
<div class="line">    std::vector&lt;float&gt; y (50);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; y.size(); ++x)</div>
<div class="line">      y[x] = exp (-0.1*x) - 1.5*exp (-0.4*x);</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;A simple one-line plot:\n&quot;</span>;</div>
<div class="line">    <a class="code hl_function" href="namespacetermviz.html#a15214a36eb0f07682975083edc414eb4">termviz::figure</a>().<a class="code hl_function" href="classtermviz_1_1Figure.html#ae6cccad2be051633298235f459fefe1a">plot</a> (y);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    std::vector&lt;float&gt; x (50);</div>
<div class="line">    <span class="keywordflow">for</span> (std::size_t n = 0; n &lt; x.size();++n) {</div>
<div class="line">      y[n] = std::sin (0.2*n) + 0.3*std::cos (0.33*n);</div>
<div class="line">      x[n] = 20.0+10.0*std::cos (0.41*n) + 5.0*std::sin(0.21*n);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Plotting arbitrary lines, without transparency:\n&quot;</span>;</div>
<div class="line">    <a class="code hl_function" href="namespacetermviz.html#a15214a36eb0f07682975083edc414eb4">termviz::figure</a> (768, 256)</div>
<div class="line">      .<a class="code hl_function" href="classtermviz_1_1Figure.html#a30a4356c07988f606e610d2ee3fb5428">transparent</a>(<span class="keyword">false</span>)</div>
<div class="line">      .<a class="code hl_function" href="classtermviz_1_1Figure.html#ae6cccad2be051633298235f459fefe1a">plot</a> (y, 4, 10)</div>
<div class="line">      .<a class="code hl_function" href="classtermviz_1_1Figure.html#ae6cccad2be051633298235f459fefe1a">plot</a> (x, y, 3)</div>
<div class="line">      .<a class="code hl_function" href="classtermviz_1_1Figure.html#a905a01b575d3235a25eec818d4976983">text</a> (<span class="stringliteral">&quot;sinusoids&quot;</span>, (x.size()-1)/2.0, 1.1, 0.5, 0.0, 6)</div>
<div class="line">      .<a class="code hl_function" href="classtermviz_1_1Figure.html#a6ff69427ce4f1d02ea3d98b11397ca86">grid</a>(<span class="keyword">false</span>,<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="comment">// a plot of random numbers:</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// set up random number generator for Normal distribution:</span></div>
<div class="line">    std::random_device rd;</div>
<div class="line">    std::mt19937 gen (rd());</div>
<div class="line">    std::normal_distribution normal (5.0, 2.0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// generate vector of Normally-distributed random numbers:</span></div>
<div class="line">    std::vector&lt;float&gt; noise (256);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; x : noise)</div>
<div class="line">      x = normal (gen);</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Plotting Normally distributed random variables:\n&quot;</span>;</div>
<div class="line">    <a class="code hl_function" href="namespacetermviz.html#a15214a36eb0f07682975083edc414eb4">termviz::figure</a> (1024, 256)</div>
<div class="line">      .<a class="code hl_function" href="classtermviz_1_1Figure.html#aa2faaab60e7b02fae50ac3b273260baa">ylim</a> (-1, 11)</div>
<div class="line">      .<a class="code hl_function" href="classtermviz_1_1Figure.html#a6ff69427ce4f1d02ea3d98b11397ca86">grid</a> (<span class="keyword">false</span>, <span class="keyword">true</span>)</div>
<div class="line">      .<a class="code hl_function" href="classtermviz_1_1Figure.html#ae6cccad2be051633298235f459fefe1a">plot</a> (noise,2);</div>
<div class="line"> </div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">catch</span> (std::exception&amp; e) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;error: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="aclasstermviz_1_1Figure_html_a30a4356c07988f606e610d2ee3fb5428"><div class="ttname"><a href="classtermviz_1_1Figure.html#a30a4356c07988f606e610d2ee3fb5428">termviz::Figure::transparent</a></div><div class="ttdeci">Figure &amp; transparent(bool is_transparent)</div><div class="ttdef"><b>Definition</b> termviz.h:922</div></div>
<div class="ttc" id="aclasstermviz_1_1Figure_html_a6ff69427ce4f1d02ea3d98b11397ca86"><div class="ttname"><a href="classtermviz_1_1Figure.html#a6ff69427ce4f1d02ea3d98b11397ca86">termviz::Figure::grid</a></div><div class="ttdeci">Figure &amp; grid(bool show_xgrid, bool show_ygrid)</div><div class="ttdef"><b>Definition</b> termviz.h:910</div></div>
<div class="ttc" id="aclasstermviz_1_1Figure_html_a905a01b575d3235a25eec818d4976983"><div class="ttname"><a href="classtermviz_1_1Figure.html#a905a01b575d3235a25eec818d4976983">termviz::Figure::text</a></div><div class="ttdeci">Figure &amp; text(const std::string &amp;text, float x, float y, float anchor_x=0.5, float anchor_y=0.5, int colour_index=1)</div><div class="ttdef"><b>Definition</b> termviz.h:886</div></div>
<div class="ttc" id="aclasstermviz_1_1Figure_html_aa2faaab60e7b02fae50ac3b273260baa"><div class="ttname"><a href="classtermviz_1_1Figure.html#aa2faaab60e7b02fae50ac3b273260baa">termviz::Figure::ylim</a></div><div class="ttdeci">Figure &amp; ylim(float y_min, float y_max)</div><div class="ttdef"><b>Definition</b> termviz.h:898</div></div>
<div class="ttc" id="aclasstermviz_1_1Figure_html_ae6cccad2be051633298235f459fefe1a"><div class="ttname"><a href="classtermviz_1_1Figure.html#ae6cccad2be051633298235f459fefe1a">termviz::Figure::plot</a></div><div class="ttdeci">Figure &amp; plot(const VectorType &amp;y, int colour_index=2, int stiple=0, float stiple_frac=0.5)</div><div class="ttdef"><b>Definition</b> termviz.h:871</div></div>
<div class="ttc" id="aclasstermviz_1_1magnify_html"><div class="ttname"><a href="classtermviz_1_1magnify.html">termviz::magnify</a></div><div class="ttdoc">Adapter class to magnify an image.</div><div class="ttdef"><b>Definition</b> termviz.h:236</div></div>
<div class="ttc" id="anamespacetermviz_html_a15214a36eb0f07682975083edc414eb4"><div class="ttname"><a href="namespacetermviz.html#a15214a36eb0f07682975083edc414eb4">termviz::figure</a></div><div class="ttdeci">Figure figure(int width=600, int height=200)</div><div class="ttdef"><b>Definition</b> termviz.h:432</div></div>
<div class="ttc" id="anamespacetermviz_html_a55f237ea4476d3a8023308dcadcfe1d7"><div class="ttname"><a href="namespacetermviz.html#a55f237ea4476d3a8023308dcadcfe1d7">termviz::hot</a></div><div class="ttdeci">ColourMap hot(int number=101)</div><div class="ttdoc">convenience function to generate a ready-made hot colourmap</div><div class="ttdef"><b>Definition</b> termviz.h:482</div></div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
